---
version: 2
models:
  - name: mart__fct_lap__timings
    description: '{{ doc("tbl_mart__fct_lap__timings") }}'
    config:
      alias: fct_lap__timings
    meta:
      dagster:
        asset_key:
          - mart
          - fact
          - lap
          - timings
    tests:
      - unique:
          column_name: "lap_id || '-' || session_id || '-' || driver_id"
    columns:
      - name: driver_id
        tests:
          - not_null
          - relationships:
              to: ref('mart__dim_drivers')
              field: driver_id
      - name: lap_id
        tests:
          - not_null
          - unique
      - name: lap_number
        tests:
          - not_null
      - name: session_id
        tests:
          - not_null
          - relationships:
              to: ref('mart__dim_sessions')
              field: session_id
